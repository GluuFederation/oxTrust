<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.org/schema/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
 	xmlns:ox="http://java.sun.com/jsf/composite/ox"
	template="/WEB-INF/incl/layout/newtemplate.xhtml">

	<ui:define name="head">
		<script type="text/javascript"
			src="#{oxTrustConfigurationService.jsLocation}/jsoneditor.min.js"></script>
	    <script>
		    // Set the default CSS theme and icon library globally
		    JSONEditor.defaults.theme = 'bootstrap3';
		    JSONEditor.defaults.iconlib = 'bootstrap3';
	    </script>
    	</ui:define>

	<ui:define name="body">
	
		<section class="content-header">
		<h1 style="color: #333;">
			#{msg['updateConfiguration.configuration']}<small><i class="fa fa-caret-right"
				style="color: #333 !important;"></i>#{msg['updateConfiguration.jsonConfiguration']}</small>
		</h1>
		<ol class="breadcrumb">
			<li><a href="#{request.contextPath}/home"><i class="fa fa-home"></i></a></li>
			<li class="organization/configuration"><a
				href="#{request.contextPath}/configuration/jsonConfig">#{msg['updateConfiguration.jsonConfiguration']}</a></li>
		</ol>
		</section>

		<section class="content"> <!-- BODY TAB PANEL STARTS FROM HERE -->
		<div class="row">
			<div class="col-xs-12">
				<div class="nav-tabs-custom" style="margin-bottom: 0px;">
					<ul class="nav nav-tabs">

						<li class="active"><a href="#oxtrust-config" data-toggle="tab">#{msg['updateConfiguration.oxTrustConfiguration']}</a></li>
						<li><a href="#oxauth-config" data-toggle="tab">#{msg['updateConfiguration.oxAuthConfiguration']}</a></li>
						<li><a href="#memcached-config" data-toggle="tab">#{msg['updateConfiguration.memcachedConfiguration']}</a></li>
						<li><a href="#oxtrust-import-person-config" data-toggle="tab">#{msg['updateConfiguration.oxTrustImportConfiguration']}</a></li>

					</ul>
					<div class="tab-content">
						<!-- System Configuration -->
						<div class="tab-pane active" id="oxtrust-config">
							<h:panelGrid columns="1" width="100%" border="0" cellpadding="0"
								cellspacing="0" columnClasses="alignTop">
								<h:form id="oxTrustConfigForm" prependId="false">
									<ox:decorate template="/WEB-INF/incl/layout/jsoneditor.xhtml"
										id="oxTrust" prependId="false">
										<ui:param name="id" value="oxTrustConfig" />
										<ui:param name="parentId" value="oxTrust" />
										<ui:param name="json"
											value="#{jsonConfigAction.oxTrustConfigJson}" />
										<ui:param name="jsonSchema"
											value="#{request.contextPath}/schema/oxtrust.properties.json" />
										<ui:param name="saveBtnId" value="saveOxTrustConfigBtn" />
										<ui:param name="saveBtnLabel" value="#{msg['updateConfiguration.saveConfiguration']}" />
									</ox:decorate>
									<h:commandButton value="#{msg['updateConfiguration.saveOxTrustConfiguration']}"
										action="#{jsonConfigAction.saveOxTrustConfigJson}"
										prependId="false" id="saveOxTrustConfigBtn"
										style="display:none"/>
								</h:form>
							</h:panelGrid>

						</div>

						<div class="tab-pane" id="oxauth-config">
							<h:panelGrid columns="1" width="100%" border="0" cellpadding="0"
								cellspacing="0" columnClasses="alignTop">
								<h:form id="oxAuthConfigForm" prependId="false">
									<ox:decorate template="/WEB-INF/incl/layout/jsoneditor.xhtml"
										id="oxAuth">
										<ui:param name="id" value="oxAuthConfig" />
										<ui:param name="parentId" value="oxAuth" />
										<ui:param name="json"
											value="#{jsonConfigAction.oxAuthDynamicConfigJson}" />
										<ui:param name="jsonSchema"
											value="#{request.contextPath}/schema/oxauth-config.xml.json" />
										<ui:param name="saveBtnId" value="saveOxAuthConfigBtn" />
										<ui:param name="saveBtnLabel" value="#{msg['updateConfiguration.saveConfiguration']}" />
									</ox:decorate>
									<h:commandButton value="#{msg['updateConfiguration.saveOxAuthConfiguration']}"
										action="#{jsonConfigAction.saveOxAuthDynamicConfigJson}"
										prependId="false" id="saveOxAuthConfigBtn"
										style="display:none" />
								</h:form>
							</h:panelGrid>
						</div>

						<div class="tab-pane" id="oxtrust-import-person-config">
							<h:panelGrid columns="1" width="100%" border="0" cellpadding="0"
								cellspacing="0" columnClasses="alignTop">
								<h:form id="oxTrustImportPersonConfigForm" prependId="false">
									<ox:decorate template="/WEB-INF/incl/layout/jsoneditor.xhtml"
										id="oxTrustImportPerson" prependId="false">
										<ui:param name="id" value="oxTrustImportPersonConfig" />
										<ui:param name="parentId" value="oxTrustImportPerson" />
										<ui:param name="json"
											value="#{jsonConfigAction.oxTrustImportPersonConfigJson}" />
										<ui:param name="jsonSchema"
											value="#{request.contextPath}/schema/oxtrust-import-person.json" />
										<ui:param name="saveBtnId" value="saveOxTrustImportPersonConfigBtn" />
										<ui:param name="saveBtnLabel" value="#{msg['updateConfiguration.saveConfiguration']}" />
									</ox:decorate>
									<h:commandButton value="#{msg['updateConfiguration.saveOxTrustImportPersonConfiguration']}"
										action="#{jsonConfigAction.saveOxTrustImportPersonConfigJson}"
										prependId="false" id="saveOxTrustImportPersonConfigBtn"
										style="display:none"/>
								</h:form>
							</h:panelGrid>
						</div>
						
						<div class="tab-pane" id="memcached-config">
							<h:panelGrid columns="1" width="100%" border="0" cellpadding="0"
								cellspacing="0" columnClasses="alignTop">
								<h:form id="oxMemCacheConfigForm" prependId="false">
									<ox:decorate template="/WEB-INF/incl/layout/jsoneditor.xhtml"
										id="oxMemcache">
										<ui:param name="id" value="oxMemcacheConfig" />
										<ui:param name="parentId" value="oxMemcache" />
										<ui:param name="json"
											value="#{jsonConfigAction.cacheConfigurationJson}" />
										<ui:param name="jsonSchema"
											value="#{request.contextPath}/schema/oxmemcache-config.json" />
										<ui:param name="saveBtnId" value="saveOxMemcacheConfigBtn" />
										<ui:param name="saveBtnLabel" value="#{msg['updateConfiguration.saveConfiguration']}" />
									</ox:decorate>
									<h:commandButton value="#{msg['updateConfiguration.saveMemCacheConfiguration']}"
										action="#{jsonConfigAction.saveOxMemCacheConfigJson}"
										prependId="false" id="saveOxMemcacheConfigBtn"
										style="display:none" />
								</h:form>
							</h:panelGrid>
						</div>
 					</div>
				</div>
				
				
			</div>
		</div>
		<!-- TAB PANEL END HERE --> 
		
		</section>

	</ui:define>

</ui:composition>