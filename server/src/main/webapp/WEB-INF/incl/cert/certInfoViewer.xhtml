<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:richext="http://xmlns.jcp.org/jsf/composite/richext"
    xmlns:ox="http://xmlns.jcp.org/jsf/composite/ox"
    xmlns:f="http://xmlns.jcp.org/jsf/core">

	<rich:popupPanel id="certInfoViewer" onmaskclick="#{rich:component('certInfoViewer')}.hide()" zindex="2000" keepVisualState="true"
		autosized="true" width="500" height="500">
		<f:facet name="header">
			<h:outputText value="#{msg['cert.certificateDetails']}" />
		</f:facet>
		<f:facet name="controls">
			<h:graphicImage value="/img/close.gif" styleClass="hidelink" style="cursor:pointer"
				onclick="#{rich:component('certInfoViewer')}.hide(); return false;" />
		</f:facet>

		<h:panelGrid id="certInfoSubject" columns="1" width="100%" border="0" cellpadding="0" cellspacing="0">
			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.validUntil']}">
				<h:outputText value="#{manageCertificateAction.subject.get('validUntil')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>

			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.validAfter']}">
				<h:outputText value="#{manageCertificateAction.subject.get('validAfter')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>

			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.commonName']}">
				<h:outputText value="#{manageCertificateAction.subject.get('CN')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>

			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.city']}">
				<h:outputText value="#{manageCertificateAction.subject.get('L')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>

			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.state']}">
				<h:outputText value="#{manageCertificateAction.subject.get('ST')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>

			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.country']}">
				<h:outputText value="#{manageCertificateAction.subject.get('C')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>

			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.organization']}">
				<h:outputText value="#{manageCertificateAction.subject.get('O')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>
		</h:panelGrid>

		<hr />

		<h:outputText value="#{msg['cert.issuer']}" />

		<h:panelGrid id="certInfoIssuer" columns="1" width="100%" border="0" cellpadding="0" cellspacing="0">
			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.commonName']}">
				<h:outputText value="#{manageCertificateAction.issuer.get('CN')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>

			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.city']}">
				<h:outputText value="#{manageCertificateAction.issuer.get('L')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>

			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.state']}">
				<h:outputText value="#{manageCertificateAction.issuer.get('ST')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>

			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.country']}">
				<h:outputText value="#{manageCertificateAction.issuer.get('C')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>

			<ox:decorate template="/WEB-INF/incl/layout/view.xhtml" label="#{msg['cert.organization']}">
				<h:outputText value="#{manageCertificateAction.issuer.get('O')}" />
				<h:outputText value="&#160;" />
			</ox:decorate>
		</h:panelGrid>

		<richext:spacer height="8" />

		<h:panelGroup>
			<a4j:commandButton value="#{msg['cert.back']}" onclick="#{rich:component('certInfoViewer')}.hide(); return false;" immediate="true" execute="@this" />
		</h:panelGroup>

	</rich:popupPanel>
</ui:composition>